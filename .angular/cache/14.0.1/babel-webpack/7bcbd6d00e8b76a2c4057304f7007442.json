{"ast":null,"code":"import { KapparuGridComponent } from 'src/app/shared/kapparu-grid/kapparu-grid.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ag-grid-angular\";\nimport * as i4 from \"../ref-data-editor/ref-data-editor.component\";\nimport * as i5 from \"../market-data-editor/market-data-editor.component\";\nexport let AdminEditorComponent = /*#__PURE__*/(() => {\n  class AdminEditorComponent extends KapparuGridComponent {\n    constructor(http, router, route) {\n      super();\n      this.http = http;\n      this.router = router;\n      this.route = route;\n      this.positions = [];\n      this.defaultColDef = {\n        filter: true,\n        sortable: true\n      };\n      this.positionsColumnDefs = [{\n        headerName: 'ID',\n        field: 'id'\n      }, {\n        headerName: 'Active',\n        field: 'active'\n      }, {\n        headerName: 'Portfolio',\n        field: 'portfolioId',\n        width: this.tickerWidth,\n        valueFormatter: this.portfolioIdFormatter\n      }, {\n        headerName: 'Symbol',\n        field: 'symbol'\n      }, {\n        headerName: 'Value',\n        field: 'value',\n        cellStyle: {\n          textAlign: \"right\"\n        },\n        valueFormatter: this.currencyFormatter\n      }, {\n        headerName: 'TotalCashInfusion',\n        field: 'totalCashInfusion',\n        cellStyle: {\n          textAlign: \"right\"\n        },\n        valueFormatter: this.currencyFormatter\n      }, {\n        headerName: 'AccumulatedDividends',\n        field: 'accumulatedDividends',\n        cellStyle: {\n          textAlign: \"right\"\n        },\n        valueFormatter: this.currencyFormatter\n      }, {\n        headerName: 'Profit',\n        field: 'profit',\n        valueGetter: params => params.data.value + params.data.accumulatedDividends - params.data.totalCashInfusion,\n        cellStyle: {\n          textAlign: \"right\"\n        },\n        valueFormatter: this.currencyFormatter\n      }, {\n        headerName: 'Index',\n        field: 'index',\n        cellStyle: {\n          textAlign: \"right\"\n        },\n        valueFormatter: this.currencyFormatter\n      }];\n    }\n\n    ngOnInit() {\n      this.http.get('http://localhost:8081/blue-lion/read/enriched-positions-all').subscribe(positions => this.positions = positions);\n    }\n\n  }\n\n  AdminEditorComponent.ɵfac = function AdminEditorComponent_Factory(t) {\n    return new (t || AdminEditorComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  AdminEditorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminEditorComponent,\n    selectors: [[\"app-admin-editor\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 3,\n    vars: 3,\n    consts: [[\"domLayout\", \"autoHeight\", 1, \"ag-theme-alpine\", 2, \"width\", \"100%\", 3, \"defaultColDef\", \"rowData\", \"columnDefs\"]],\n    template: function AdminEditorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-ref-data-editor\")(1, \"app-market-data-editor\")(2, \"ag-grid-angular\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"defaultColDef\", ctx.defaultColDef)(\"rowData\", ctx.positions)(\"columnDefs\", ctx.positionsColumnDefs);\n      }\n    },\n    dependencies: [i3.AgGridAngular, i4.RefDataEditorComponent, i5.MarketDataEditorComponent]\n  });\n  return AdminEditorComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}